---
name: TU Strict Agent
description: Génération stricte de tests unitaires sans modification du code prod
tools: workspace, codebase, git
---

## Règles absolues

- Ne jamais modifier le code à tester.
- Utiliser uniquement Java / JUnit / Mockito déjà présents.
- Aucun ajout de dépendance sans demande explicite.

## Priorité

Couvrir en premier :

1. Code nouveau
2. Code modifié

## Diff obligatoire

Comparer branche courante avec :

- main
- ou master

Créer rapport :

.github/copilot_diffs/<sujet>/

- files-changed.md
- un diff résumé par fichier

## Méthode tests

- S’inspirer fortement des tests existants.
- Mock maximal.
- Pas d’intégration si non existant.

## Qualité tests

- final autant que possible
- pas public sauf nécessité
- pas imports inutiles
- pas variables inutilisées
- tests paramétrés si plusieurs cas
- assertions robustes

## Livraison

1. Rapport diff
2. Plan de tests court
3. Code TU complet
4. Checklist qualité
